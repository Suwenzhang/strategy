# A股沪深主板股票推荐策略

专注于沪深主板10cm涨跌幅股票，区分开盘前和收盘前两种推荐策略。

## 股票范围

- **上交所主板**: 600xxx, 601xxx, 603xxx, 605xxx
- **深交所主板**: 000xxx, 001xxx

## 策略类型

### 1. 开盘前推荐策略 (适合9:25前运行)

**关注点:**
- 昨日涨停连板股票
- 跳空高开形态
- 均线多头排列
- 成交量异常放大
- RSI/KDJ金叉信号

**评分维度:**
| 维度 | 分值 | 说明 |
|------|------|------|
| 连板强度 | 25 | 3连板25分，2连板20分，涨停15分 |
| 跳空形态 | 20 | 跳空>3%得20分，>1%得12分 |
| 均线排列 | 15 | 多头排列15分，短期向上8分 |
| 成交量 | 15 | 量比>2得15分，>1.5得10分 |
| RSI信号 | 10 | 向上趋势10分，合理区间5分 |
| KDJ信号 | 15 | 低位金叉15分，超强势8分 |

### 2. 收盘前推荐策略 (适合14:56前运行)

**关注点:**
- 尾盘拉升形态
- 技术突破信号
- 成交量配合
- MACD加速
- RSI合理区间

**评分维度:**
| 维度 | 分值 | 说明 |
|------|------|------|
| 尾盘拉升 | 25 | 强势拉升25分，普通拉升18分 |
| 技术突破 | 25 | 突破20日线15分，突破布林上轨10分 |
| 成交量 | 20 | 巨量配合20分，放量15分，温和放量10分 |
| MACD信号 | 15 | 加速向上15分，金叉10分 |
| RSI区间 | 10 | 强势区10分，上升区6分 |
| K线形态 | 5 | 大阳线5分，光头阳线3分 |

## 安装依赖

```bash
pip install -r requirements.txt
```

## 使用方法

### 运行策略

```bash
python stock_recommendation.py
```

根据提示选择策略:
- 选项1: 开盘前推荐策略
- 选项2: 收盘前推荐策略
- 选项3: 同时运行两种策略

### 使用示例

```python
# 单独使用开盘前策略
from stock_recommendation import OpeningStrategy

TOKEN = 'your_token_here'
strategy = OpeningStrategy(TOKEN)
results = strategy.scan_opening(top_n=20)

# 单独使用收盘前策略
from stock_recommendation import ClosingStrategy

strategy = ClosingStrategy(TOKEN)
results = strategy.scan_closing(top_n=20)
```

## 推荐等级说明

| 等级 | 评分 | 说明 |
|------|------|------|
| ★★★★★ 强烈关注/推荐 | 75+ | 多项指标满足，机会大 |
| ★★★★ 关注/推荐 | 60-74 | 条件良好，值得考虑 |
| ★★★ 谨慎观察/关注 | 45-59 | 可关注但需谨慎 |
| ★★ 观望 | 30-44 | 不建议操作 |
| ★ 不推荐 | <30 | 条件不满足 |

## 输出示例

### 开盘前推荐
```
1. ★★★★★ 某某股份 (600000.SH)
   行业: 银行
   昨收: 12.50  涨跌幅: +9.98%
   评分: 85.0  等级: 强烈关注
   连板: 3板
   量比: 2.35
   理由: 3连板强势, 均线多头排列, 昨日巨量换手, KDJ超强势
```

### 收盘前推荐
```
1. ★★★★★ 某某集团 (000001.SZ)
   行业: 房地产
   收盘价: 15.60  涨跌幅: +6.50%
   综合评分: 82.5  等级: 强烈推荐
   MA5: 14.80 | MA20: 14.50 | MA60: 14.20
   RSI: 62.3
   量比: 1.85
   理由: 尾盘拉升, 突破20日线, 放量, MACD金叉
```

## 技术指标说明

| 指标 | 说明 |
|------|------|
| MA5/10/20/60 | 移动平均线，判断趋势方向 |
| RSI | 相对强弱指数，超买超卖判断 |
| MACD | 平滑异同移动平均线，趋势转折点 |
| KDJ | 随机指标，短期买卖点 |
| 布林带 | 价格通道，突破信号 |
| 量比 | 当日成交量与5日均量比值 |

## 输出文件

策略运行后会生成CSV文件:
- `opening_recommendations_YYYYMMDD_HHMMSS.csv` - 开盘前推荐结果
- `closing_recommendations_YYYYMMDD_HHMMSS.csv` - 收盘前推荐结果

## 注意事项

1. **风险提示**: 本策略仅供参考，不构成投资建议。股市有风险，投资需谨慎。

2. **数据时效性**: Tushare数据存在延迟，实际交易请参考实时行情。

3. **API限制**: Tushare免费版每分钟调用次数有限，扫描全市场可能需要较长时间。

4. **交易规则**:
   - 主板股票涨跌幅限制为10%
   - 开盘集合竞价时间: 9:15-9:25
   - 收盘前关注时间建议: 14:50-15:00

5. **参数调整**: 可根据个人偏好调整各指标的权重和阈值。

## 自定义策略参数

在相应的策略类中可以调整:

```python
# OpeningStrategy.opening_score() - 开盘前评分
# ClosingStrategy.closing_score() - 收盘前评分

# 调整返回数量
strategy.scan_opening(top_n=30)  # 改为返回30只股票
```

## 常见问题

**Q: 为什么只分析主板股票?**
A: 主板股票涨跌幅限制为10%，波动相对可控，适合大多数投资者。

**Q: 策略准确率如何?**
A: 策略基于历史数据和技术指标，仅供参考。实际市场变化复杂，需结合实时情况判断。

**Q: 可以分析创业板或科创板股票吗?**
A: 可以修改`get_mainboard_stocks()`方法，添加相应的股票代码规则。
